---
date: 2006-10-21 05:59:10+00:00
layout: post
title: HP ProCurveシリーズのsFlow
tags:
- コンピュータ＆ネットワーク
language:
- 日本語
---

比較的低価格でsFlowを吐くスイッチとして注目度の高いHP ProCurveシリーズですが、とあるお客さんからの依頼でsFlowの試験をしてみました(試験をしてくれた小池さんに感謝）。評価したのはHP ProCurve 3400シリーズ。その結果、意外な事実が判明しました。

なんと、この機種はsFlowの設定がCLIでは行えないのです！　他のすべての設定はCLIで行えるのに、です。この機種でsFlowを使うにはSNMPを使って必要なパラメータ（コレクタのアドレスやサンプリングレート、等）をセットしなければなりません。しかも、定期的にSNMPであるタイマー（カウンター）に値をセットしにいかないと、そこで設定された時間以上の時間が経過すると自動的にsFlowの機能が停止するようになっています。というわけで、一旦SNMPでsFlowの設定をするだけではだめで、マネージャ（通常はsFlowコレクターになるでしょう）が常に立ち上がっていて、このタイマー値をアップデートし続けなければいけないのです。

なんでこんな仕様になっているのかまったく理解に苦しみます。この仕様は3400シリーズだけではなく5300/6400/3400/2800シリーズで共通なようです。
